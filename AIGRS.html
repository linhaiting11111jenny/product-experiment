<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>产品详情浏览</title>
    <style>
        /* 基础样式复刻：高级感与去装饰化 */
        body {
            font-family: -apple-system, "Helvetica Neue", Arial, sans-serif;
            color: #333;
            background-color: #FFF;
            line-height: 1.6;
            margin: 0;
            padding: 40px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #experiment-container {
            width: 800px;
        }

        /* ① 商品信息区 */
        .product-section {
            display: flex;
            gap: 40px;
            margin-bottom: 50px;
        }
        .product-image {
            width: 320px;
            height: 320px;
            background-color: #F5F5F5; /* 占位色块 */
            border: 1px solid #EEE;
        }
        .product-info h2 { font-size: 22px; margin-top: 0; }
        .price { color: #666; font-size: 18px; margin: 10px 0; }
        .attr-list { padding-left: 20px; font-size: 14px; color: #444; }

        /* ② 评分摘要区（自变量操纵位） */
        .summary-card {
            background-color: #F9F9F9;
            border: 1px solid #E5E5E5;
            padding: 24px;
            border-radius: 4px;
            text-align: center;
            margin-bottom: 40px;
        }
        .summary-title { font-size: 16px; font-weight: bold; margin-bottom: 15px; }
        .summary-content { font-size: 14px; color: #555; max-width: 600px; margin: 0 auto; line-height: 1.8; }

        /* ③ 操作按钮区 */
        .action-area { text-align: center; margin-bottom: 40px; }
        .btn-neutral {
            padding: 10px 30px;
            background: #FFF;
            border: 1px solid #CCC;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-neutral:hover { background: #F0F0F0; border-color: #999; }

        /* ④ 原始评论区（初始隐藏） */
        #review-module { display: none; border-top: 1px solid #EEE; padding-top: 30px; }
        .review-item { padding: 15px 0; border-bottom: 1px solid #F0F0F0; }
        .stars { color: #999; font-size: 12px; }
        .review-title { font-weight: bold; font-size: 14px; margin: 5px 0; }
        .review-body { font-size: 14px; color: #666; }

        /* ⑤ 返回按钮 */
        #complete-btn {
            margin: 60px 0;
            padding: 12px 40px;
            background: none;
            border: 1px solid #DDD;
            color: #999;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div id="experiment-container">
    <section class="product-section">
        <div class="product-image">
            <div style="text-align:center; padding-top:140px; color:#CCC;">Product Image</div>
        </div>
        <div class="product-info">
            <h2>X-Series 无线降噪耳机</h2>
            <p class="price">¥899 - ¥1,099</p>
            <ul class="attr-list">
                <li>续航：30小时超长续航</li>
                <li>连接：蓝牙 5.3 稳定连接</li>
                <li>重量：轻量化 240g 设计</li>
                <li>评价：4.3 / 5 (基于 1,280 条评论)</li>
            </ul>
        </div>
    </section>

    <section class="summary-card">
        <div class="summary-title">用户评论摘要</div>
        <div id="summary-text" class="summary-content">
            该产品在音质表现上获得了用户的一致好评，但在佩戴舒适度方面存在部分争议。大多数用户认为其续航能力足以满足日常需求，部分用户反馈在高强度使用下充电频率稍高。
        </div>
    </section>

    <div class="action-area">
        <button id="view-reviews-btn" class="btn-neutral">查看原始评论</button>
    </div>

    <div id="review-module">
        <div id="review-list">
            </div>
        <div style="text-align: center; margin-top: 20px;">
            <button id="load-more-btn" class="btn-neutral" style="font-size: 12px;">加载更多评论</button>
        </div>
    </div>

    <div style="text-align: center;">
        <button id="complete-btn">完成浏览，返回问卷</button>
    </div>
</div>

<script>
    // 数据埋点对象
    const experimentData = {
        startTime: Date.now(),
        viewReviewsClicked: false,
        clickTimestamp: null,
        loadMoreCount: 0,
        endTime: null
    };

    const reviewData = [
        { star: "★★★★☆", title: "续航很给力", body: "用了三天还没充电，蓝牙连接速度非常快，基本秒连。" },
        { star: "★★★☆☆", title: "稍微有点压耳朵", body: "音质没得说，但是戴久了耳朵有点疼，可能我头比较大。" },
        { star: "★★★★★", title: "外观简洁大方", body: "白色的实物非常漂亮，做工精细，没有廉价感。" }
        // ... 此处可扩展至 10 条
    ];

    const viewBtn = document.getElementById('view-reviews-btn');
    const loadMoreBtn = document.getElementById('load-more-btn');
    const reviewModule = document.getElementById('review-module');
    const reviewList = document.getElementById('review-list');

    // 展示评论逻辑
    function renderReviews() {
        reviewData.forEach(item => {
            const div = document.createElement('div');
            div.className = 'review-item';
            div.innerHTML = `
                <div class="stars">${item.star}</div>
                <div class="review-title">${item.title}</div>
                <div class="review-body">${item.body}</div>
            `;
            reviewList.appendChild(div);
        });
    }

    // 首次查看
    viewBtn.onclick = () => {
        experimentData.viewReviewsClicked = true;
        experimentData.clickTimestamp = Date.now() - experimentData.startTime;
        viewBtn.style.display = 'none';
        reviewModule.style.display = 'block';
        renderReviews();
        console.log("埋点：点击查看原始评论", experimentData);
    };

    // 加载更多
    let clickLimit = 0;
    loadMoreBtn.onclick = () => {
        if(clickLimit < 4) {
            clickLimit++;
            experimentData.loadMoreCount = clickLimit;
            renderReviews(); // 模拟加载更多
            if(clickLimit === 4) loadMoreBtn.innerText = "没有更多评论了";
            console.log(`埋点：加载更多第 ${clickLimit} 次`);
        }
    };

    // 完成实验
    document.getElementById('complete-btn').onclick = () => {
        experimentData.endTime = Date.now();
        const totalTime = (experimentData.endTime - experimentData.startTime) / 1000;
        alert(`实验数据已记录：\n查看评论时间点：${experimentData.clickTimestamp}ms\n加载更多次数：${experimentData.loadMoreCount}\n总停留时长：${totalTime}s`);
        // 此处通常写：window.location.href = "问卷链接?data=" + JSON.stringify(experimentData);
    };
</script>

</body>
</html>